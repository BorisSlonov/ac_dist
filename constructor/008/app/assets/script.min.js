!function(t){function e(t,e,n){var i=document.createElement(d[t]);return e.__p&&(g(e.__p,function(t,e){i[e]=t}),delete e.__p),g(e,function(t,e){i.setAttribute(p[e],t)}),n&&(1==n.length?i.appendChild(n[0]):1<n.length&&i.appendChild(x(n))),i}function n(){Y.classList.remove("viz-_active"),document.removeEventListener("click",n)}function i(){-1<et&&(et=-1,ot.readyState!==XMLHttpRequest.UNSENT&&ot.readyState!==XMLHttpRequest.DONE&&ot.abort(),lt.readyState!==XMLHttpRequest.UNSENT&&lt.readyState!==XMLHttpRequest.DONE&&lt.abort(),it.readyState===FileReader.LOADING&&it.abort(),st.readyState===FileReader.LOADING&&st.abort(),nt=rt=null,tt=C(tt,null,"viz-_loading"))}function o(){if(-1<et&&2==++et){var t=tt,e=nt,n=rt;null===J&&E.classList.add("viz-_loaded"),J=C(J,t,"viz-_active"),R.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),O.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),U.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n),i()}}function r(t){if(t!==tt&&(i(),t!==J)){var e=t["viz-btnRoom_key"];et=0,ot.open("GET","__VIZ_BASE_URL__/img/r/"+e+"/m.png",!0),lt.open("GET","__VIZ_BASE_URL__/img/r/"+e+"/r.png",!0),ot.responseType="blob",lt.responseType="blob",ot.send(),lt.send(),tt=C(tt,t,"viz-_loading")}}function s(t){Jt.abort(),Jt.open("GET","__VIZ_BASE_URL__/img/j/"+t["viz-btnCeiling_key"]+".json",!0),Jt.send(),ft=C(ft,t,"viz-_loading")}function l(t,e){Jt.abort(),pt=C(pt,t,"viz-_active"),e||(e=[2,"M153.919 113.92L249 184h783L1282-1H-2l155.919 114.92z"]);var n=0==e[0]?"lvl":1==e[0]?"cut":"flt";for(P.setAttribute("d",e[1]),F.setAttribute("d","lvl"==n?e[2]:e[1]),n!=_t&&(_t=n,B.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),F.setAttribute("filter","lvl"==n?"url(#viz-stage__svg__ceilingVolumeFilterLvl)":"url(#viz-stage__svg__ceilingVolumeFilterCut)"),E.classList["flt"==n?"add":"remove"]("viz-_flt"),null!==te&&(T.ceiling.print=null,te=C(te,null,"viz-_active"),E.classList.remove("viz-_print"),B.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Dt(ct)),h&&h("lvl"==n?ue:"cut"==n?ve:pe,!0)),n=pt.textContent,T.ceiling.type=n;Ut.firstChild;)Ut.removeChild(Ut.firstChild);b(Ut,k(n))}function a(t){s(t.delegateTarget)}function c(n,i){var o={},r={},s={},l={};return o=e(1,(o[0]="viz-btnCeiling",o.__p={"viz-btnCeiling_key":n},o),[e(0,(r[0]="viz-btnCeiling__thumb",r),[e(3,(s[0]="viz-btnCeiling__thumb__img",s[8]="__VIZ_BASE_URL__/img/t/"+n+".png",s))]),e(0,(l[0]="viz-btnCeiling__desc",l),[k(n)])]),null!=pt&&t.activeCeiling.typeKey!=n||(pt=o),o}function u(t){ie.abort(),t!==te&&(ie.open("GET","__VIZ_BASE_URL__/img/l/"+t["viz-btnPrint_key"]+".jpg",!0),ie.responseType="blob",ie.send(),ee=C(ee,t,"viz-_loading"))}function h(t,e){oe=C(oe,t,"viz-_active"),re.classList[t==ue?"add":"remove"]("viz-_active"),se.classList[t==ve?"add":"remove"]("viz-_active"),le.classList[t==pe?"add":"remove"]("viz-_active"),t!=pe||e||l(ae)}function v(t){h(t.currentTarget)}var d="div button a img style canvas".split(" "),p="class type style src width height href download data-viz-lazysrc".split(" "),f=function(){function t(t,e){var n,i,o=arguments,r=T;for(i=arguments.length;2<i--;)E.push(o[i]);for(e&&null!=e.children&&(E.length||E.push(e.children),delete e.children);E.length;)if((n=E.pop())&&void 0!==n.pop)for(i=n.length;i--;)E.push(n[i]);else{"boolean"==typeof n&&(n=null),(i="function"!=typeof t)&&(null==n?n="":"number"==typeof n?n=String(n):"string"!=typeof n&&(i=!1)),i&&s?r[r.length-1]+=n:r===T?r=[n]:r.push(n);var s=i}return(s=new L).nodeName=t,s.children=r,s.attributes=null==e?void 0:e,s.key=null==e?void 0:e.key,s}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){null!=t&&("function"==typeof t?t(e):t.current=e)}function i(t){!t._dirty&&(t._dirty=!0)&&1==O.push(t)&&N(o)}function o(){for(var t;t=O.pop();)t._dirty&&g(t)}function r(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function s(t){var n=e({},t.attributes);if(n.children=t.children,void 0!==(t=t.nodeName.defaultProps))for(var i in t)void 0===n[i]&&(n[i]=t[i]);return n}function l(t){var e=t.parentNode;e&&e.removeChild(t)}function a(t,e,i,o,r){if("className"===e&&(e="class"),"key"!==e)if("ref"===e)n(i,null),n(o,t);else if("class"!==e||r)if("style"===e){if(o&&"string"!=typeof o&&"string"!=typeof i||(t.style.cssText=o||""),o&&"object"==typeof o){if("string"!=typeof i)for(var s in i)s in o||(t.style[s]="");for(s in o)t.style[s]="number"==typeof o[s]&&!1===R.test(s)?o[s]+"px":o[s]}}else if("dangerouslySetInnerHTML"===e)o&&(t.innerHTML=o.__html||"");else if("o"==e[0]&&"n"==e[1])r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase().substring(2),o?i||t.addEventListener(e,c,r):t.removeEventListener(e,c,r),(t._listeners||(t._listeners={}))[e]=o;else if("list"!==e&&"type"!==e&&!r&&e in t){try{t[e]=null==o?"":o}catch(t){}null!=o&&!1!==o||"spellcheck"==e||t.removeAttribute(e)}else i=r&&e!==(e=e.replace(/^xlink:?/,"")),null==o||!1===o?i?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof o&&(i?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),o):t.setAttribute(e,o));else t.className=o||""}function c(t){return this._listeners[t.type](t)}function u(){for(var t;t=U.shift();)t.componentDidMount&&t.componentDidMount()}function h(t,e,n,i,o,c){return B++||(F=null!=o&&void 0!==o.ownerSVGElement,P=null!=t&&!("__preactattr_"in t)),t=function t(e,n,i,o,c){var u,h,d=e,f=F;if(null!=n&&"boolean"!=typeof n||(n=""),"string"==typeof n||"number"==typeof n)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||c)?e.nodeValue!=n&&(e.nodeValue=n):(d=document.createTextNode(n),e&&(e.parentNode&&e.parentNode.replaceChild(d,e),v(e,!0))),d.__preactattr_=!0,d;if("function"==typeof(c=n.nodeName))return function(t,e,n,i){for(var o=t&&t._component,r=o,l=t,a=o&&t._componentConstructor===e.nodeName,c=a,u=s(e);o&&!c&&(o=o._parentComponent);)c=o.constructor===e.nodeName;return o&&c&&(!i||o._component)?(_(o,u,3,n,i),t=o.base):(r&&!a&&(w(r),t=l=null),o=p(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t,l=null),_(o,u,1,n,i),t=o.base,l&&t!==l&&(l._component=null,v(l,!1))),t}(e,n,i,o);if(F="svg"===c||"foreignObject"!==c&&F,c=String(c),(!e||!r(e,c))&&(u=c,(h=F?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u)).normalizedNodeName=u,d=h,e)){for(;e.firstChild;)d.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(d,e),v(e,!0)}if(e=d.firstChild,u=d.__preactattr_,h=n.children,null==u){u=d.__preactattr_={};for(var g=(c=d.attributes).length;g--;)u[c[g].name]=c[g].value}return!P&&h&&1===h.length&&"string"==typeof h[0]&&null!=e&&void 0!==e.splitText&&null==e.nextSibling?e.nodeValue!=h[0]&&(e.nodeValue=h[0]):(h&&h.length||null!=e)&&function(e,n,i,o,s){var a,c,u,h,d,p,f=e.childNodes,_=[],g={},w=0,m=0,b=f.length,y=0,A=n?n.length:0;if(0!==b)for(var z=0;z<b;z++){var C=f[z],x=C.__preactattr_;null!=(a=A&&x?C._component?C._component.__key:x.key:null)?(w++,g[a]=C):(x||(void 0!==C.splitText?!s||C.nodeValue.trim():s))&&(_[y++]=C)}if(0!==A)for(z=0;z<A;z++){if(u=null,null!=(a=(b=n[z]).key))w&&void 0!==g[a]&&(u=g[a],g[a]=void 0,w--);else if(m<y)for(a=m;a<y;a++)if(void 0!==_[a]&&(h=c=_[a],p=s,"string"==typeof(d=b)||"number"==typeof d?void 0!==h.splitText:"string"==typeof d.nodeName?!h._componentConstructor&&r(h,d.nodeName):p||h._componentConstructor===d.nodeName)){u=c,_[a]=void 0,a===y-1&&y--,a===m&&m++;break}u=t(u,b,i,o),a=f[z],u&&u!==e&&u!==a&&(null==a?e.appendChild(u):u===a.nextSibling?l(a):e.insertBefore(u,a))}if(w)for(z in g)void 0!==g[z]&&v(g[z],!1);for(;m<=y;)void 0!==(u=_[y--])&&v(u,!1)}(d,h,i,o,P||null!=u.dangerouslySetInnerHTML),function(t,e,n){for(var i in n)e&&null!=e[i]||null==n[i]||a(t,i,n[i],n[i]=void 0,F);for(i in e)"children"===i||"innerHTML"===i||i in n&&e[i]===("value"===i||"checked"===i?t[i]:n[i])||a(t,i,n[i],n[i]=e[i],F)}(d,n.attributes,u),F=f,d}(t,e,n,i,c),o&&t.parentNode!==o&&o.appendChild(t),--B||(P=!1,c||u()),t}function v(t,e){var i=t._component;i?w(i):(null!=t.__preactattr_&&n(t.__preactattr_.ref,null),!1!==e&&null!=t.__preactattr_||l(t),d(t))}function d(t){for(t=t.lastChild;t;){var e=t.previousSibling;v(t,!0),t=e}}function p(t,e,n){var i,o=H.length;for(t.prototype&&t.prototype.render?(i=new t(e,n),m.call(i,e,n)):((i=new m(e,n)).constructor=t,i.render=f);o--;)if(H[o].constructor===t)return i.nextBase=H[o].nextBase,H.splice(o,1),i;return i}function f(t,e,n){return this.constructor(t,n)}function _(t,e,o,r,s){t._disable||(t._disable=!0,t.__ref=e.ref,t.__key=e.key,delete e.ref,delete e.key,void 0===t.constructor.getDerivedStateFromProps&&(!t.base||s?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,r)),r&&r!==t.context&&(t.prevContext||(t.prevContext=t.context),t.context=r),t.prevProps||(t.prevProps=t.props),t.props=e,t._disable=!1,0!==o&&(1!==o&&!1===M.syncComponentUpdates&&t.base?i(t):g(t,1,s)),n(t.__ref,t))}function g(t,n,i,o){if(!t._disable){var r,l=t.props,a=t.state,c=t.context,d=t.prevProps||l,f=t.prevState||a,m=t.prevContext||c,b=t.base,y=t.nextBase,A=b||y,z=t._component,C=!1,x=m;if(t.constructor.getDerivedStateFromProps&&(a=e(e({},a),t.constructor.getDerivedStateFromProps(l,a)),t.state=a),b&&(t.props=d,t.state=f,t.context=m,2!==n&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,a,c)?C=!0:t.componentWillUpdate&&t.componentWillUpdate(l,a,c),t.props=l,t.state=a,t.context=c),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!C){var k;if(l=t.render(l,a,c),t.getChildContext&&(c=e(e({},c),t.getChildContext())),b&&t.getSnapshotBeforeUpdate&&(x=t.getSnapshotBeforeUpdate(d,f)),"function"==typeof(a=l&&l.nodeName)){var S=s(l);(r=z)&&r.constructor===a&&S.key==r.__key?_(r,S,1,c,!1):(k=r,t._component=r=p(a,S,c),r.nextBase=r.nextBase||y,r._parentComponent=t,_(r,S,0,c,!1),g(r,1,i,!0)),S=r.base}else y=A,(k=z)&&(y=t._component=null),(A||1===n)&&(y&&(y._component=null),S=h(y,l,c,i||!b,A&&A.parentNode,!0));if(A&&S!==A&&r!==z&&(r=A.parentNode)&&S!==r&&(r.replaceChild(S,A),k||(A._component=null,v(A,!1))),k&&w(k),t.base=S,S&&!o){for(k=A=t;k=k._parentComponent;)(A=k).base=S;S._component=A,S._componentConstructor=A.constructor}}for(!b||i?U.push(t):C||t.componentDidUpdate&&t.componentDidUpdate(d,f,x);t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);B||o||u()}}function w(t){var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var i=t._component;i?w(i):e&&(null!=e.__preactattr_&&n(e.__preactattr_.ref,null),t.nextBase=e,l(e),H.push(t),d(e)),n(t.__ref,null)}function m(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{},this._renderCallbacks=[]}function b(t,e,n,i){void 0===i&&(i={});for(var o=0;o<e.length;o++)t.addEventListener(e[o],n,i)}function y(t,e,n,i){void 0===i&&(i={});for(var o=0;o<e.length;o++)t.removeEventListener(e[o],n,i)}function A(t){var e=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(e);e=/iPhone|iPod|iPad/i.test(e);var i=window.location;return n||e?i.protocol+"//"+i.host+i.pathname+i.search+t:t}function z(t,e,n,i,o){var r=180>=o-i?0:1;return i*=Math.PI/180,o*=Math.PI/180,"M "+(t+n*Math.cos(o))+" "+(e+n*Math.sin(o))+" A "+n+" "+n+" 0 "+r+" 0 "+(t+n*Math.cos(i))+" "+(e+n*Math.sin(i))}function C(e){var n=e.r,i=e.url;return t("svg",{class:"viz-iro__handle",x:e.x,y:e.y,style:{overflow:"visible"}},i&&t("use",Object.assign({},{xlinkHref:A(i)},e.origin)),!i&&t("circle",{class:"viz-iro__handle__inner",r:n,fill:"none","stroke-width":2,stroke:"#000"}),!i&&t("circle",{class:"viz-iro__handle__outer",r:n-2,fill:"none","stroke-width":2,stroke:"#fff"}))}function x(t,e){var n=-1<t.indexOf("%"),i=parseFloat(t);return n?e/100*i:i}function k(t){return parseInt(t,16)}function S(t){return t.toString(16).padStart(2,"0")}var L=function(){},M={},E=[],T=[],N="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,R=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,O=[],U=[],B=0,F=!1,P=!1,H=[];e(m.prototype,{setState:function(t,n){this.prevState||(this.prevState=this.state),this.state=e(e({},this.state),"function"==typeof t?t(this.state,this.props):t),n&&this._renderCallbacks.push(n),i(this)},forceUpdate:function(t){t&&this._renderCallbacks.push(t),g(this,2)},render:function(){}});var j=function(t){function e(e){t.call(this,e),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){b(this.base,["mousedown","touchstart"],this,{passive:!1})},e.prototype.componentWillUnmount=function(){y(this.base,["mousedown","touchstart"],this)},e.prototype.handleEvent=function(t){t.preventDefault();var e=t.touches?t.changedTouches[0]:t,n=e.clientX;e=e.clientY;var i=this.base.getBoundingClientRect();switch(t.type){case"mousedown":case"touchstart":b(document,["mousemove","touchmove","mouseup","touchend"],this,{passive:!1}),this.handleInput(n,e,i,"START");break;case"mousemove":case"touchmove":this.handleInput(n,e,i,"MOVE");break;case"mouseup":case"touchend":this.handleInput(n,e,i,"END"),y(document,["mousemove","touchmove","mouseup","touchend"],this,{passive:!1})}},e}(m);C.defaultProps={x:0,y:0,r:8,url:null,origin:{x:0,y:0}};var I=Array.apply(null,{length:360}).map(function(t,e){return e}),D=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype._transformAngle=function(t,e){var n=this.props.wheelAngle;return(("clockwise"===this.props.wheelDirection?-360+t-(e?-n:n):n-t)%360+360)%360},n.prototype.render=function(e){var n=this,i=e.width,o=e.borderWidth,r=e.handleRadius,s=e.color.hsv,l=i/2-o,a=this._transformAngle(s.h,!0)*(Math.PI/180),c=s.s/100*(l-e.padding-r-o),u=l+o,h=l+o;return t("svg",{class:"viz-iro__wheel",width:i,height:i,style:{overflow:"visible",display:"block"}},t("defs",null,t("radialGradient",{id:this.uid},t("stop",{offset:"0%","stop-color":"#fff"}),t("stop",{offset:"100%","stop-color":"#fff","stop-opacity":"0"}))),t("g",{class:"viz-iro__wheel__hue","stroke-width":l,fill:"none"},I.map(function(e){return t("path",{key:e,d:z(u,h,l/2,e,e+1.5),stroke:"hsl("+n._transformAngle(e)+", 100%, 50%)"})})),t("circle",{class:"viz-iro__wheel__saturation",cx:u,cy:h,r:l,fill:"url("+A("#"+this.uid)+")"}),e.wheelLightness&&t("circle",{class:"viz-iro__wheel__lightness",cx:u,cy:h,r:l,fill:"#000",opacity:1-s.v/100}),t("circle",{class:"viz-iro__wheel__border",cx:u,cy:h,r:l,fill:"none",stroke:e.borderColor,"stroke-width":o}),t(C,{r:r,url:e.handleSvg,origin:e.handleOrigin,x:u+c*Math.cos(a),y:h+c*Math.sin(a)}))},n.prototype.handleInput=function(t,e,n,i){var o=n.top,r=this.props,s=r.width/2,l=s-r.padding-r.handleRadius-r.borderWidth;t=s-(t-n.left),e=s-(e-o),n=this._transformAngle(Math.round(180/Math.PI*Math.atan2(e,t))+180),r.onInput(i,{h:n,s:Math.round(100/l*Math.min(Math.sqrt(t*t+e*e),l))})},n}(j),V=/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,G=/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,q=/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,W=/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,Y=/^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,X=/^(?:#?|0x?)([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,K=/^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,Z=/^(?:#?|0x?)([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,Q=function(t){this._onChange=!1,this._value={h:0,s:0,v:0,a:1},t&&this.set(t)},$={hsv:{configurable:!0},rgb:{configurable:!0},hsl:{configurable:!0},rgbString:{configurable:!0},hexString:{configurable:!0},hslString:{configurable:!0}};Q.prototype.set=function(t){var e="string"==typeof t,n="object"==typeof t;if(e&&/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t))this.hexString=t;else if(e&&/^rgba?/.test(t))this.rgbString=t;else if(e&&/^hsla?/.test(t))this.hslString=t;else if(n&&t instanceof Q)this.hsv=t.hsv;else if(n&&"r"in t&&"g"in t&&"b"in t)this.rgb=t;else if(n&&"h"in t&&"s"in t&&"v"in t)this.hsv=t;else{if(!(n&&"h"in t&&"s"in t&&"l"in t))throw Error("invalid color value");this.hsl=t}},Q.prototype.setChannel=function(t,e,n){var i;this[t]=Object.assign({},this[t],((i={})[e]=n,i))},Q.prototype.clone=function(){return new Q(this)},Q.hsvToRgb=function(t){var e=t.h/60,n=t.s/100;t=t.v/100;var i=Math.floor(e),o=e-i,r=t*(1-o*n);return{r:255*[t,r,e=t*(1-n),e,n=t*(1-(1-o)*n),t][i%=6],g:255*[n,t,t,r,e,e][i],b:255*[e,e,n,t,t,r][i]}},Q.rgbToHsv=function(t){var e=t.r/255,n=t.g/255;t=t.b/255;var i=Math.max(e,n,t),o=Math.min(e,n,t),r=i-o;switch(i){case o:var s=0;break;case e:s=(n-t)/r+(n<t?6:0);break;case n:s=(t-e)/r+2;break;case t:s=(e-n)/r+4}return{h:60*s,s:100*(0===i?0:r/i),v:100*i}},Q.hsvToHsl=function(t){var e=t.s/100,n=t.v/100,i=(2-e)*n,o=1>=i?i:2-i;return{h:t.h,s:100*(1e-9>o?0:e*n/o),l:50*i}},Q.hslToHsv=function(t){var e=2*t.l,n=t.s*(100>=e?e:200-e)/100;return{h:t.h,s:100*(1e-9>e+n?0:2*n/(e+n)),v:(e+n)/2}},$.hsv.get=function(){var t=this._value;return{h:t.h,s:t.s,v:t.v}},$.hsv.set=function(t){var e=this._value;if(t=Object.assign({},e,t),this._onChange){var n,i={};for(n in e)i[n]=t[n]!=e[n];this._value=t,(i.h||i.s||i.v||i.a)&&this._onChange(this,i)}else this._value=t},$.rgb.get=function(){var t=Q.hsvToRgb(this._value);return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},$.rgb.set=function(t){this.hsv=Object.assign({},Q.rgbToHsv(t),{a:void 0===t.a?1:t.a})},$.hsl.get=function(){var t=Q.hsvToHsl(this._value);return{h:Math.round(t.h),s:Math.round(t.s),l:Math.round(t.l)}},$.hsl.set=function(t){this.hsv=Object.assign({},Q.hslToHsv(t),{a:void 0===t.a?1:t.a})},$.rgbString.get=function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},$.rgbString.set=function(t){var e,n,i,o,r=1;if((e=V.exec(t))?(n=x(e[1],255),i=x(e[2],255),o=x(e[3],255)):(e=G.exec(t))&&(n=x(e[1],255),i=x(e[2],255),o=x(e[3],255),r=x(e[4],1)),!e)throw Error("invalid rgb string");this.rgb={r:n,g:i,b:o,a:r}},$.hexString.get=function(){var t=this.rgb;return"#"+S(t.r)+S(t.g)+S(t.b)},$.hexString.set=function(t){var e,n,i,o,r=255;if((e=Y.exec(t))?(n=17*k(e[1]),i=17*k(e[2]),o=17*k(e[3])):(e=X.exec(t))?(n=17*k(e[1]),i=17*k(e[2]),o=17*k(e[3]),r=17*k(e[4])):(e=K.exec(t))?(n=k(e[1]),i=k(e[2]),o=k(e[3])):(e=Z.exec(t))&&(n=k(e[1]),i=k(e[2]),o=k(e[3]),r=k(e[4])),!e)throw Error("invalid hex string");this.rgb={r:n,g:i,b:o,a:r/255}},$.hslString.get=function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},$.hslString.set=function(t){var e,n,i,o,r=1;if((e=q.exec(t))?(n=x(e[1],360),i=x(e[2],100),o=x(e[3],100)):(e=W.exec(t))&&(n=x(e[1],360),i=x(e[2],100),o=x(e[3],100),r=x(e[4],1)),!e)throw Error("invalid hsl string");this.hsl={h:n,s:i,l:o,a:r}},Object.defineProperties(Q.prototype,$);var J,tt,et,nt,it=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.renderGradient=function(e){var n=e.color.hsv,i=[];switch(e.sliderType){case"hue":i=[{offset:"0",color:"#f00"},{offset:"16.666",color:"#ff0"},{offset:"33.333",color:"#0f0"},{offset:"50",color:"#0ff"},{offset:"66.666",color:"#00f"},{offset:"83.333",color:"#f0f"},{offset:"100",color:"#f00"}];break;case"saturation":e=Q.hsvToHsl({h:n.h,s:0,v:n.v}),n=Q.hsvToHsl({h:n.h,s:100,v:n.v}),i=[{offset:"0",color:"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},{offset:"100",color:"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"}];break;default:i=[{offset:"0",color:"#000"},{offset:"100",color:"hsl("+(n=Q.hsvToHsl({h:n.h,s:n.s,v:100})).h+", "+n.s+"%, "+n.l+"%)"}]}return t("linearGradient",{id:this.uid},i.map(function(e){return t("stop",{offset:e.offset+"%","stop-color":e.color})}))},n.prototype.render=function(e){var n=e.width,i=e.sliderHeight,o=e.borderWidth,r=e.handleRadius;i=i||2*e.padding+2*r+2*o,this.width=n,this.height=i;var s=i/2,l=n-2*s,a=e.color.hsv;switch(e.sliderType){case"hue":a=a.h/=3.6;break;case"saturation":a=a.s;break;default:a=a.v}return t("svg",{class:"viz-iro__slider",width:n,height:i,style:{marginTop:e.sliderMargin,overflow:"visible",display:"block"}},t("defs",null,this.renderGradient(e)),t("rect",{class:"viz-iro__slider__value",rx:s,ry:s,x:o/2,y:o/2,width:n-o,height:i-o,"stroke-width":o,stroke:e.borderColor,fill:"url("+A("#"+this.uid)+")"}),t(C,{r:r,url:e.handleSvg,origin:e.handleOrigin,x:s+a/100*l,y:i/2}))},n.prototype.getValueFromPoint=function(t,e,n){return e=this.width-this.height,t-=n.left+this.height/2,Math.round(100/e*Math.max(Math.min(t,e),0))},n.prototype.handleInput=function(t,e,n,i){var o;switch(e=this.getValueFromPoint(t,e,n),this.props.sliderType){case"hue":t="h",e*=3.6;break;case"saturation":t="s";break;default:t="v"}this.props.onInput(i,((o={})[t]=e,o))},n}(j);return($=function(e){function n(t){e.call(this,t),this.emitHook("init:before"),this._events={},this._deferredEvents={},this._colorUpdateActive=!1,this._colorUpdateSrc=null,this.id=t.id,this.color=new Q(t.color),this.deferredEmit("color:init",this.color,{h:!1,s:!1,v:!1,a:!1}),this.color._onChange=this.updateColor.bind(this),this.state=Object.assign({},t,{color:this.color,ref:void 0}),this.emitHook("init:state"),t.layout?this.layout=t.layout:this.layout=[{component:D,options:{}},{component:it,options:{}}],this.emitHook("init:after")}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.on=function(t,e){var n=this,i=this._events;(Array.isArray(t)?t:[t]).forEach(function(t){n.emitHook("event:on",t,e),(i[t]||(i[t]=[])).push(e),n._deferredEvents[t]&&(n._deferredEvents[t].forEach(function(t){e.apply(null,t)}),n._deferredEvents[t]=[])})},n.prototype.off=function(t,e){var n=this;(Array.isArray(t)?t:[t]).forEach(function(t){var i=n._events[t];n.emitHook("event:off",t,e),i&&i.splice(i.indexOf(e),1)})},n.prototype.emit=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];this.emitHook.apply(this,[t].concat(e)),n=this._events[t]||[];for(var i=0;i<n.length;i++)n[i].apply(this,e)},n.prototype.deferredEmit=function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];n=this._deferredEvents,this.emit.apply(this,[t].concat(e)),(n[t]||(n[t]=[])).push(e)},n.prototype.resize=function(t){this.setState({width:t})},n.prototype.reset=function(){this.color.set(this.props.color)},n.addHook=function(t,e){var i=n.pluginHooks;(i[t]||(i[t]=[])).push(e)},n.prototype.emitHook=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];i=n.pluginHooks[t]||[];for(var o=0;o<i.length;o++)i[o].apply(this,e)},n.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},n.prototype.updateColor=function(t,e){this.emitHook("color:beforeUpdate",t,e),this.setState({color:t}),this.emitHook("color:afterUpdate",t,e),this._colorUpdateActive||(this._colorUpdateActive=!0,"input"==this._colorUpdateSrc&&this.emit("input:change",t,e),this.emit("color:change",t,e),this._colorUpdateActive=!1)},n.prototype.handleInput=function(t,e){"START"===t&&this.emit("input:start",this.color),"MOVE"===t&&this.emit("input:move",this.color),this._colorUpdateSrc="input",this.color.hsv=e,"END"===t&&this.emit("input:end",this.color),this._colorUpdateSrc=null},n.prototype.render=function(e,n){var i=this;return t("div",{class:"viz-iro__colorPicker",id:e.id,style:{display:n.display,width:n.width}},this.layout.map(function(e){return t(e.component,Object.assign({},n,e.options,{onInput:function(t,e){return i.handleInput(t,e)},parent:i}))}))},n}(m)).pluginHooks={},$.defaultProps={width:300,height:300,handleRadius:8,handleSvg:null,handleOrigin:{x:0,y:0},color:"#fff",borderColor:"#fff",borderWidth:0,display:"block",id:null,wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderHeight:null,sliderMargin:12,padding:6,layout:null},(tt=function(e,n){var i,o=null,r=document.createElement("div");return h(void 0,t(J,Object.assign({},{ref:function(t){return o=t}},n)),{},!1,r,!1),i=function(){var t=e instanceof Element?e:document.querySelector(e);t.appendChild(o.base),o.onMount(t)},"loading"!==document.readyState?i():b(document,["DOMContentLoaded"],i),o}).prototype=(J=$).prototype,Object.assign(tt,J),tt.__component=J,nt=[],(et={Color:Q,ColorPicker:$=tt,ui:{h:t,Component:j,Handle:C,Slider:it,Wheel:D},util:{resolveUrl:A,createArcPath:z,parseUnit:x,parseHexInt:k,intToHex:S},version:"4.5.1"}).use=function(t,e){void 0===e&&(e={}),-1<nt.indexOf(t)||(t(et,e),nt.push(t))},et.installedPlugins=nt,et}(),_=function(){function t(t,e){-1!=i.indexOf(t.type)?(e[0]=t.touches[0].pageX,e[1]=t.touches[0].pageY):(e[0]=t.pageX,e[1]=t.pageY)}function e(t,e,i){var o=t.firstElementChild,r=Array.prototype.slice.call(o.children),s=this,l={a:t,b:1,c:null,d:o,e:1,f:r,g:1,h:1,i:0,j:r.length,k:1,l:1,m:null,n:null,o:[0,0],p:[0,0],q:null,r:null,s:null,t:null,u:null,v:null,w:null,x:null,y:null,z:null,C:function(){s.enableTransition()},D:function(){var t=l.d.style;t[l.y]=l.e+"px",t[l.z]="",t.flexDirection=n[l.v]+n[2+Math.max(0,l.u)],s.goTo(l.i,!1,!1,!0),requestAnimationFrame(l.C)},E:function(){requestAnimationFrame(l.D)},F:null};s._=l,s.conf={dirTo:"r",trackSize:null,perPage:1,minSize:null,draggable:!0,dragThreshold:.25,onChange:null},s.configure(e,i)}var n=["row","column","-reverse",""],i=["touchstart","touchmove","touchend","touchcancel"],o="touchstart touchmove touchend mousedown mousemove mouseup mouseleave click".split(" "),r=["TEXTAREA","OPTION","INPUT","SELECT"],s=e.prototype;return s.configure=function(t,e){for(var n,i=this,o=i.conf,r=Object.keys(t),s=r.length;0<s;)o[n=r[--s]]=t[n];e||("loading"==document.readyState?document.addEventListener("DOMContentLoaded",function(){i.init()}):i.init())},s.init=function(){var t=this.conf,e=this._,n=t.dirTo,i="l"==n||"r"==n?0:1,o=1-i,r="offset"+(0==i?"Width":"Height"),s=t.trackSize,l=t.perPage,a=t.minSize,c=t.draggable,u=t.dragThreshold;t=t.onchange;var h=c!==e.m,v=!1;if(n!==e.t||s!==e.b||l!==e.k||a!==e.c){s=Math.max(1,null===s?e.a[r]:s),l=Math.max(1,"number"==typeof a?(s-s%a)/a:l);var d=(v=e.j)-l,p=s/l,f=p*l,_=p*v;(v=e.l!==d||e.g!==p||e.h!==f||e.e!==_)&&(e.l=d,e.g=p,e.h=f,e.e=_)}e.t=n,e.u="l"==n||"t"==n?-1:1,e.v=i,e.w=o,e.y=0==i?"width":"height",e.z=0==o?"width":"height",e.x=r,e.b=s,e.k=l,e.c=a,e.m=c,e.n=u,e.F=t,v&&(this.disableTransition(),requestAnimationFrame(e.E)),h&&(this.unbindEvents(),this.bindEvents())},s.bindEvents=function(){var t=this._;if(window.addEventListener("resize",this),t.m){t=t.a;for(var e=o.length;0<e;)t.addEventListener(o[--e],this)}},s.unbindEvents=function(){var t=this._;window.removeEventListener("resize",this),t=t.a;for(var e=o.length;0<e;)t.removeEventListener(o[--e],this)},s.handleEvent=function(t){var e="on"+t.type.toLowerCase();"function"==typeof this[e]&&this[e].apply(this,arguments)},s.ondragstart=function(e){var n=this._;-1===r.indexOf(e.target.nodeName)&&n.k<=n.j&&(e.stopPropagation(),-1!=i.indexOf(e.type)||(e.preventDefault(),n.q=!0),t(e,n.o),n.s=!0,this.disableTransition())},s.ondragmove=function(e){var n=this._;if(n.s){-1!=i.indexOf(e.type)&&e.stopPropagation(),t(e,n.p);var o=n.v,r=n.w,s=n.o[o],l=n.o[r];o=n.p[o],r=n.p[r],null===n.q&&(n.q=Math.abs(s-o)>Math.abs(l-r)),n.q&&(e.preventDefault(),n.r=!0,this.move(o-s,!0))}},s.ondragend=function(t){var e=this._;if(e.s){if(this.enableTransition(),e.q){t.stopPropagation();var n=e.v;t=e.o[n],0<(n=e.p[n])&&(t=e.u*(t-n),this.goTo(((0<t)-(0>t)||+t)*Math.ceil(Math.abs(t/e.g)-e.n),!0,!1,!0))}e.o[0]=0,e.o[1]=0,e.p[0]=0,e.p[1]=0,e.q=null,e.r=!1,e.s=!1}},s.ontouchstart=s.ondragstart,s.ontouchmove=s.ondragmove,s.ontouchend=s.ondragend,s.onmousedown=s.ondragstart,s.onmousemove=s.ondragmove,s.onmouseup=s.ondragend,s.onmouseleave=s.ondragend,s.onclick=function(t){var e=this._;e.r&&(t.preventDefault(),t.stopPropagation()),e.r=!1},s.onresize=function(){this.init()},s.enableTransition=function(){this._.d.style.transitionDuration=""},s.disableTransition=function(){this._.d.style.transitionDuration="0s"},s.loadLazy=function(t){var e,n=this._,i=n.j,o=n.k,r=n.l,s=Math.min(n.i,r),l=Math.max(0,Math.min(r,s+(0!=(l=t/n.g-s)?((0<l)-(0>l)||+l)*Math.floor(Math.abs(l)):l)));for(t=Math.min(i,l+o);l<t;)if(!(i=n.f[l++])["viz-lazyloaded"])for(i["viz-lazyloaded"]=!0,o=(i=i.querySelectorAll("[data-viz-lazysrc]")).length,r=0;r<o;)(e=i[r++]).src=e.getAttribute("data-viz-lazysrc"),e.removeAttribute("data-viz-lazysrc")},s.move=function(t,e){var n=this._,i=n.l,o=n.i,r=n.g,s=n.e,l=n.h,a=n.u;e&&(t*=-a,t+=r*Math.min(o,i)),this.loadLazy(t),0>a&&(t=s-l-t),t*=-1,n.d.style.transform="translate("+t*n.w+"px,"+t*n.v+"px)"},s.goTo=function(t,e,n,i){var o=this._,r=o.j,s=o.k,l=o.i,a=o.g,c=o.l;e&&(t+=l,!i&&l>=c&&t>=c&&t<=r&&(t>l?t=r:t+=c-l)),n&&0>(t%=r)&&(t+=r),t=Math.min(Math.max(0,t),r),o.i=t,"function"==typeof o.F&&o.F.call(this,t),this.move(r>s?a*Math.min(t,c):0,!1)},e}(),g=function(t,e){for(var n=Object.keys(t),i=0,o=n.length;i<o;)e(t[n[i]],n[i++])},w=function(t,e){for(var n=Object.keys(t),i=0,o=n.length,r=Array(o);i<o;)r[i]=e(t[n[i]],n[i++]);return r},m=function(t,e){for(var n=0,i=t.length,o=Array(i);n<i;)o[n]=e(t[n],n++);return o},b=function(t,e){return t.appendChild(e),t},y=function(t,e,n){return t.addEventListener(e,n),t},A=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,z=function(t,e,n,i){return y(t,n,function(t){for(var n=t.target,o=t.currentTarget;n!=o;){if(A.call(n,e))return t.delegateTarget=n,i(t);n=n.parentNode}})},C=function(t,e,n){return t&&t.classList.remove(n),e&&e.classList.add(n),e},x=function(t){var e=document.createDocumentFragment();return function(t,e){for(var n=0,i=t.length;n<i;)e(t[n],n++)}(t,function(t){e.appendChild(t)}),e},k=function(t){return document.createTextNode(t)},S=function(t,e,n,i){var o=document.createElementNS(e,t);return n.__p&&(g(n.__p,function(t,e){o[e]=t}),delete n.__p),g(n,function(t,e){Array.isArray(t)?o.setAttributeNS(t[0],e,t[1]):o.setAttribute(e,t)}),i&&(1==i.length?o.appendChild(i[0]):1<i.length&&o.appendChild(x(i))),o},L=function(t,n){var i={};i=e(0,(i[0]="viz-slider__track",i),[e(0,{},m(t,function(t){return e(0,{},[t])}))]);var o={},r={},s={},l=e(0,(o[0]="viz-slider",o),[y(e(1,(r[0]="viz-slider__btnPrev",r[1]="button",r),[S("svg","http://www.w3.org/2000/svg",{class:"viz-slider__btnNext__icon",viewBox:"0 0 654 1000"},[S("path","http://www.w3.org/2000/svg",{d:"M308 500l346-346L500 0 0 500l500 500 154-154z"})])]),"click",function(){l["viz-zimObj"].goTo(-1,!0,!1,!1)}),i,y(e(1,(s[0]="viz-slider__btnNext",s[1]="button",s),[S("svg","http://www.w3.org/2000/svg",{class:"viz-slider__btnNext__icon",viewBox:"0 0 654 1000"},[S("path","http://www.w3.org/2000/svg",{d:"M154 1000l500-500L154 0 0 154l346 346L0 846z"})])]),"click",function(){l["viz-zimObj"].goTo(1,!0,!1,!1)})]);return l["viz-zimObj"]=new _(i,{minSize:n},!0),l},M=function(t){return Array.prototype.indexOf.call(t.parentNode.children,t)},E=document.querySelector("#__VIZ_WRAPPER_ID__"),T={ceiling:{type:null,colorFg:null,colorBg:null,print:null}},N=S("path","http://www.w3.org/2000/svg",{fill:"rgb(255, 255, 255)",d:"M0 644h1280L1280 0H0z"}),R=S("image","http://www.w3.org/2000/svg",{width:"1280",height:"644"}),O=S("image","http://www.w3.org/2000/svg",{width:"1280",height:"644","clip-path":"url(#viz-stage__svg__ceilingShapClip)"}),U=S("image","http://www.w3.org/2000/svg",{width:"1280",height:"644",y:"-20","clip-path":"url(#viz-stage__svg__ceilingRectClip)"}),B=S("image","http://www.w3.org/2000/svg",{width:"1280",height:"185","clip-path":"url(#viz-stage__svg__ceilingShapClip)","xlink:href":["http://www.w3.org/1999/xlink","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="],preserveAspectRatio:"none"}),F=S("path","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingVolume",filter:"url(#viz-stage__svg__ceilingVolumeFilterLvl)",fill:"currentColor","fill-opacity":".98"}),P=S("path","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingShap",filter:"url(#viz-stage__svg__ceilingShapFilter)",fill:"currentColor"}),H=S("svg","http://www.w3.org/2000/svg",{class:"viz-stage__svg",viewBox:"0 0 1280 644",xmlns:["http://www.w3.org/2000/xmlns/","http://www.w3.org/2000/svg"],"xmlns:xlink":["http://www.w3.org/2000/xmlns/","http://www.w3.org/1999/xlink"]},[S("defs","http://www.w3.org/2000/svg",{},[S("filter","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingVolumeFilterLvl","color-interpolation-filters":"sRGB"},[S("feColorMatrix","http://www.w3.org/2000/svg",{in:"SourceGraphic",result:"result2",values:"1 0 0 0 -0.5 0 1 0 0 -0.5 0 0 1 0 -0.5 0 0 0 1 0"}),S("feGaussianBlur","http://www.w3.org/2000/svg",{result:"result1",stdDeviation:"3"}),S("feColorMatrix","http://www.w3.org/2000/svg",{in:"SourceGraphic",result:"result2",values:"1 0 0 0 -0.42 0 1 0 0 -0.42 0 0 1 0 -0.42 0 0 0 1 0"}),S("feComposite","http://www.w3.org/2000/svg",{in:"result2",in2:"result1"})]),S("filter","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingVolumeFilterCut","color-interpolation-filters":"sRGB"},[S("feColorMatrix","http://www.w3.org/2000/svg",{in:"SourceGraphic",result:"result2",values:"1 0 0 0 -0.65 0 1 0 0 -0.65 0 0 1 0 -0.65 0 0 0 1 0"}),S("feGaussianBlur","http://www.w3.org/2000/svg",{result:"result1",stdDeviation:"6"}),S("feColorMatrix","http://www.w3.org/2000/svg",{in:"SourceGraphic",result:"result2",values:"1 0 0 0 -0.42 0 1 0 0 -0.42 0 0 1 0 -0.42 0 0 0 1 0"}),S("feComposite","http://www.w3.org/2000/svg",{in:"result2",in2:"result1"})]),S("filter","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingShapFilter","color-interpolation-filters":"sRGB"},[S("feColorMatrix","http://www.w3.org/2000/svg",{result:"result3",values:"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"}),S("feColorMatrix","http://www.w3.org/2000/svg",{in:"result3",result:"result1",values:"1 0 0 0 -0.1 0 1 0 0 -0.1 0 0 1 0 -0.1 0 0 0 1 0"}),S("feGaussianBlur","http://www.w3.org/2000/svg",{result:"result2",stdDeviation:"1"}),S("feComposite","http://www.w3.org/2000/svg",{in:"result3",in2:"result2"})]),S("filter","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingRectFilter","color-interpolation-filters":"sRGB"},[S("feColorMatrix","http://www.w3.org/2000/svg",{values:"1 0 0 0 -0.15 0 1 0 0 -0.15 0 0 1 0 -0.15 0 0 0 1 0"})]),S("filter","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingBlurFilter","color-interpolation-filters":"sRGB"},[S("feGaussianBlur","http://www.w3.org/2000/svg",{stdDeviation:"6"})]),S("clipPath","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingRectClip"},[S("use","http://www.w3.org/2000/svg",{width:"100%",height:"100%","xlink:href":["http://www.w3.org/1999/xlink","#viz-stage__svg__ceilingRect"]})]),S("clipPath","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingShapClip"},[S("use","http://www.w3.org/2000/svg",{width:"100%",height:"100%","xlink:href":["http://www.w3.org/1999/xlink","#viz-stage__svg__ceilingShap"]})])]),N,R,S("path","http://www.w3.org/2000/svg",{id:"viz-stage__svg__ceilingRect",filter:"url(#viz-stage__svg__ceilingRectFilter)",d:"M249 184h783L1282-1H-2z"}),U,F,P,O,B]),j={},I=e(5,(j[0]="viz-stage__canvas",j[4]="1200",j[5]="800",j)),D={},V=e(0,(D[0]="viz-stage__btnWalls__p",D)),G={},q=e(0,(G[0]="viz-stage__btnWalls__c",G)),W={},Y=y(e(1,(W[0]="viz-stage__btnWalls",W[1]="button",W),[k("Цвет стен"),V,q]),"click",function(t){t.preventDefault(),t.stopPropagation(),(t=t.target)!=Y&&t!=q||(Y.classList.contains("viz-_active")?n():(Y.classList.add("viz-_active"),y(document,"click",n)))}),X=new f.ColorPicker(V,{width:120,sliderMargin:10,padding:2,borderWidth:1,borderColor:"#ffffff",handleRadius:7.5});X.on("color:change",function(t){q.style.color=t.hexString,N.setAttribute("fill",t.rgbString)});var K={},Z=y(e(1,(K[0]="viz-stage__btnSave",K[1]="button",K),[k("Сохранить картинку")]),"click",function(){Z.disabled=!0;var t=H.cloneNode(!0);t.setAttribute("viewBox","157 0 966 644"),t.setAttribute("width","1200"),t.setAttribute("height","800");var n=I.getContext("2d");n.clearRect(0,0,I.width,I.height),function(t,e,n){var i=new Image;i.onload=function(){t.drawImage(i,0,0),n(i)},i.onerror=function(){n(null)},i.crossOrigin="",i.src="data:image/svg+xml;base64,"+window.btoa(e)}(n,(new XMLSerializer).serializeToString(t),function(t){setTimeout(function(){if(null!==t)if(I.msToBlob){var n=I.msToBlob(function(){},"image/png");window.navigator.msSaveOrOpenBlob(n,"Визуализация.png")}else{var i=window.URL.createObjectURL(function(t){var e=t.indexOf(","),n=t.substr(0,e).match(/:(.*?);/)[1];e=(t=atob(t.substr(e+1))).length;for(var i=new Uint8Array(e);0<e--;)i[e]=t.charCodeAt(e);return new Blob([i.buffer],{type:n})}(I.toDataURL("image/png"))),o=e(2,((n={})[0]="viz-hiddenLink",n[6]=i,n[7]="Визуализация.png",n));b(E,o),o.click(),setTimeout(function(){E.removeChild(o),window.URL.revokeObjectURL(i)},270)}setTimeout(function(){Z.disabled=!1},170)},100)})}),Q={},$=e(0,(Q[0]="viz-stage viz-main__section__stage",Q),[H,I,Y,Z]),J=null,tt=null,et=-1,nt=null,it=new FileReader;it.onloadend=function(){var t=it.result;null===t?i():(nt=t,o())};var ot=new XMLHttpRequest;ot.onload=function(){200===ot.status?it.readAsDataURL(ot.response):i()},ot.onabort=ot.onerror=ot.ontimeout=i;var rt=null,st=new FileReader;st.onloadend=function(){var t=st.result;null===t?i():(rt=t,o())};var lt=new XMLHttpRequest;lt.onload=function(){200===lt.status?st.readAsDataURL(lt.response):i()},lt.onabort=lt.onerror=lt.ontimeout=i;var at,ct,ut,ht,vt,dt,pt,ft,_t,gt={},wt=z(e(0,(gt[0]="viz-rooms viz-main__section__rooms",gt),m([1,2,3,4,5],function(t,n){var i={},o={};return i=e(1,(i[0]="viz-btnRoom",i.__p={"viz-btnRoom_key":t},i),[e(3,(o[0]="viz-btnRoom__img",o[3]="__VIZ_BASE_URL__/img/r/"+t+"/t.jpg",o))]),null===J&&(J=i),i})),".viz-btnRoom","click",function(t){r(t.delegateTarget)}),mt={},bt=e(0,(mt[0]="viz-status__item__content",mt)),yt={},At={},zt=e(0,(yt[0]="viz-status__item viz-_color viz-_fg",yt),[e(0,(At[0]="viz-status__item__title",At),[k("Цвет потолка:")]),bt]),Ct={},xt=e(0,(Ct[0]="viz-status__item__content",Ct)),kt={},St={},Lt=e(0,(kt[0]="viz-status__item viz-_color viz-_bg",kt),[e(0,(St[0]="viz-status__item__title",St),[k("Цвет рисунка:")]),xt]),Mt={},Et=e(0,(Mt[0]="viz-status__item__content",Mt)),Tt={},Nt={},Rt=e(0,(Tt[0]="viz-status__item viz-_print",Tt),[e(0,(Nt[0]="viz-status__item__title",Nt),[k("Фотопечать:")]),Et]),Ot={},Ut=e(0,(Ot[0]="viz-status__item__content",Ot)),Bt={},Ft={},Pt=e(0,(Bt[0]="viz-status__item",Bt),[e(0,(Ft[0]="viz-status__item__title",Ft),[k("Модель потолка:")]),Ut]),Ht={},jt=e(0,(Ht[0]="viz-status",Ht),[zt,Lt,Rt,Pt]),It=function(t){var e=null==at?null:at["viz-factures__nav__btn_targetContent"],n=t["viz-factures__nav__btn_targetContent"];null==n.parentNode&&b(Wt,n),C(e,n,"viz-_active"),at=C(at,t,"viz-_active")},Dt=function(t,e){ct=C(ct,t,"viz-_active"),null!==te&&(T.ceiling.print=null,te=C(te,null,"viz-_active"),E.classList.remove("viz-_print"),B.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")),ut=e,H.style.color=ct.style.backgroundColor;var n="",i="1";for("матовый"==(e=e.toLowerCase())?i="0":"сатиновый"==e&&(n="url(#viz-stage__svg__ceilingBlurFilter)"),O.setAttribute("filter",n),O.setAttribute("opacity",i);bt.firstChild;)bt.removeChild(bt.firstChild);n=e+" ("+ct.textContent+")",T.ceiling.colorFg=n,(i=ct.cloneNode()).textContent="",b(bt,x([k(n),i]))},Vt={},Gt={},qt={},Wt=e(0,(Vt[0]="viz-factures viz-_fg",Vt),[e(0,(Gt[0]="viz-factures__title",Gt),[k("Цвет потолка")]),z(e(0,(qt[0]="viz-factures__nav",qt),w(t.colors,function(n,i){var o={},r=e(1,(o[0]="viz-factures__nav__btn",o[1]="button",o),[k(i)]);o={};var s={};return r["viz-factures__nav__btn_targetContent"]=e(0,(o[0]="viz-factures__content",o),[z(e(0,(s[0]="viz-colors",s),w(n,function(n,o){var s={};return s=e(1,(s[0]="viz-colors__btn",s[1]="button",s[2]="background-color:"+n,s),[k(o)]),null!=ct&&t.activeCeiling.colorFgCode!=o||(ct=s,ut=i,at=r),s})),".viz-colors__btn","click",function(t){Dt(t.delegateTarget,i)})]),null==at&&(at=r),r})),".viz-factures__nav__btn","click",function(t){It(t.delegateTarget)})]),Yt=function(t){var e=null==ht?null:ht["viz-factures__nav__btn_targetContent"],n=t["viz-factures__nav__btn_targetContent"];null==n.parentNode&&b($t,n),C(e,n,"viz-_active"),ht=C(ht,t,"viz-_active")},Xt=function(t,e){vt=C(vt,t,"viz-_active"),dt=e,H.style.fill=vt.style.backgroundColor;var n="",i="1";for("матовый"==(e=e.toLowerCase())?i="0":"сатиновый"==e&&(n="url(#viz-stage__svg__ceilingBlurFilter)"),U.setAttribute("filter",n),U.setAttribute("opacity",i);xt.firstChild;)xt.removeChild(xt.firstChild);n=e+" ("+vt.textContent+")",T.ceiling.colorBg=n,(i=vt.cloneNode()).textContent="",b(xt,x([k(n),i]))},Kt={},Zt={},Qt={},$t=e(0,(Kt[0]="viz-factures viz-_bg",Kt),[e(0,(Zt[0]="viz-factures__title",Zt),[k("Цвет рисунка")]),z(e(0,(Qt[0]="viz-factures__nav",Qt),w(t.colors,function(n,i){var o={},r=e(1,(o[0]="viz-factures__nav__btn",o[1]="button",o),[k(i)]);o={};var s={};return r["viz-factures__nav__btn_targetContent"]=e(0,(o[0]="viz-factures__content",o),[z(e(0,(s[0]="viz-colors",s),w(n,function(n,o){var s={};return s=e(1,(s[0]="viz-colors__btn",s[1]="button",s[2]="background-color:"+n,s),[k(o)]),null!=vt&&t.activeCeiling.colorBgCode!=o||(vt=s,dt=i,ht=r),s})),".viz-colors__btn","click",function(t){Xt(t.delegateTarget,i)})]),null==ht&&(ht=r),r})),".viz-factures__nav__btn","click",function(t){Yt(t.delegateTarget)})]),Jt=new XMLHttpRequest;Jt.onload=function(){try{if(200!==this.status)throw Error();l(ft,JSON.parse(this.responseText))}catch(t){}this.onerror()},Jt.onabort=Jt.onerror=Jt.ontimeout=function(){ft=C(ft,null,"viz-_loading")};var te=null,ee=null,ne=null,ie=new XMLHttpRequest;ie.onload=function(){if(200===ie.status){var t=new FileReader;t.onloadend=t.onerror=function(){var e=t.result;if(null!==e){var n=ee;for(ie.abort(),null===te&&(C(ct,null,"viz-_active"),E.classList.add("viz-_print")),te=C(te,n,"viz-_active"),B.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),e=te.textContent,T.ceiling.print=e;Et.firstChild;)Et.removeChild(Et.firstChild);b(Et,k(e))}ie.onerror()},t.readAsDataURL(ie.response)}else ie.onerror()},ie.onabort=ie.onerror=ie.ontimeout=function(){ee=C(ee,null,"viz-_loading")};var oe,re=z(L(m(t.ceilingsLvl,c),80),".viz-btnCeiling:not(.viz-_loading)","click",a),se=z(L(m(t.ceilingsCut,c),80),".viz-btnCeiling:not(.viz-_loading)","click",a),le=z(L(w(t.prints,function(n,i){var o={},r={},s={},l={};return o=e(1,(o[0]="viz-btnPrint",o.__p={"viz-btnPrint_key":i},o),[e(0,(r[0]="viz-btnPrint__thumb",r),[e(3,(s[0]="viz-btnPrint__thumb__img",s[8]="__VIZ_BASE_URL__/img/p/"+i+".jpg",s))]),e(0,(l[0]="viz-btnPrint__desc",l),[k(n)])]),null===ne&&t.activeCeiling.typeKey==i&&(ne=o),o}),130),".viz-btnPrint:not(.viz-_loading)","click",function(t){u(t.delegateTarget)}),ae=c("Одноуровневый"),ce={},ue=0<t.ceilingsLvl.length?y(e(1,(ce[0]="viz-types__btn",ce[1]="button",ce),[k("многоуровневый")]),"click",v):x([]),he={},ve=0<t.ceilingsCut.length?y(e(1,(he[0]="viz-types__btn",he[1]="button",he),[k("резной APPLY")]),"click",v):x([]),de={},pe=t.ceilingsFlt||1>t.ceilingsLvl.length+t.ceilingsCut.length?y(e(1,(de[0]="viz-types__btn",de[1]="button",de),[k("одноуровневый")]),"click",v):x([]),fe={},_e=1<(0<t.ceilingsLvl.length)+(0<t.ceilingsCut.length)+t.ceilingsFlt?e(0,(fe[0]="viz-types",fe),[ve,ue,pe]):x([]),ge={},we={},me={},be=e(0,(ge[0]="viz-main__header",ge),[e(0,(we[0]="viz-main__header__content",we),[Wt,$t]),e(0,(me[0]="viz-main__header__aside",me),[jt])]),ye={},Ae=e(0,(ye[0]="viz-main__section",ye),[$,wt]),ze={},Ce={},xe=e(0,(ze[0]="viz-main__footer",ze),[_e,e(0,(Ce[0]="viz-main__footer__row",Ce),[re,se,le])]),ke={},Se=e(0,(ke[0]="viz-main",ke),[be,Ae,xe]),Le={};b(document.head,e(4,(Le[1]="text/css",Le),[k(__VIZ_STYLESHEET__)])),b(E,Se);var Me=function(){window.requestAnimationFrame(function(){var e;X.color.hexString=t.wallsColor||"#e4c7b7",e=J,J=null,r(e),null!=at&&(It(at),null!=ct&&Dt(ct,ut)),null!=ht&&(Yt(ht),null!=vt&&Xt(vt,dt)),function(){var e=-1!==t.ceilingsLvl.indexOf(t.activeCeiling.typeKey)?"lvl":-1!==t.ceilingsCut.indexOf(t.activeCeiling.typeKey)?"cut":t.ceilingsFlt?"flt":0<t.ceilingsLvl.length?"lvl":0<t.ceilingsCut.length?"cut":"flt";re["viz-zimObj"].init(),se["viz-zimObj"].init(),le["viz-zimObj"].init(),"flt"==e?(l(ae),null!==ne&&(u(ne),le["viz-zimObj"].goTo(M(ne.parentNode)))):(s(pt),("lvl"==e?re:se)["viz-zimObj"].goTo(M(pt.parentNode))),h&&h("lvl"==e?ue:"cut"==e?ve:pe,!0)}(),window.requestAnimationFrame(function(){E.classList.add("viz-_ready")})})};"loading"==document.readyState?y(document,"DOMContentLoaded",Me):Me()}(__VIZ_DATA__);